<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>QuickAI Settings</title>
    <link rel="stylesheet" href="options.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>QuickAI Settings</h1>
            <p>Configure your AI assistant settings</p>
        </div>

        <div class="section">
            <h2>API Configuration</h2>
            <div class="form-group">
                <label for="api-key">OpenRouter API Key</label>
                <div class="input-wrapper">
                    <input type="password" id="api-key" placeholder="sk-or-v1-..." autocomplete="off">
                    <button id="toggle-visibility" class="icon-button" title="Toggle visibility">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                            <circle cx="12" cy="12" r="3"></circle>
                        </svg>
                    </button>
                </div>
                <p class="hint">Get your API key from <a href="https://openrouter.ai/keys" target="_blank">OpenRouter</a></p>
            </div>
            <button id="save-settings" class="primary-button">Save Settings</button>
            <div id="status-message" class="status-message"></div>
        </div>

        <div class="section">
            <h2>History Management</h2>
            <p>Your conversation history is stored locally and synced across your devices.</p>
            <div class="stats" id="history-stats">
                <span>Loading history stats...</span>
            </div>
            <button id="clear-history" class="danger-button">Clear All History</button>
        </div>

        <div class="section">
            <h2>Prompt Templates</h2>
            <p>Create and manage reusable prompt templates. Use @ in the chat to quickly access them.</p>
            
            <div class="templates-controls">
                <button id="add-template" class="primary-button">Add New Template</button>
                <button id="import-templates" class="secondary-button">Import</button>
                <button id="export-templates" class="secondary-button">Export</button>
            </div>

            <div id="template-form" class="template-form" style="display: none;">
                <div class="form-group">
                    <label for="template-name">Template Name</label>
                    <input type="text" id="template-name" placeholder="e.g., Email Reply" maxlength="50">
                </div>
                <div class="form-group">
                    <label for="template-category">Category (optional)</label>
                    <input type="text" id="template-category" placeholder="e.g., Email, Meeting, Research" maxlength="30">
                </div>
                <div class="form-group">
                    <label for="template-content">Template Content</label>
                    <textarea id="template-content" rows="4" placeholder="Write your template here. Use {{variable}} for placeholders."></textarea>
                    <p class="hint">Tip: Use {{variable}} syntax to create placeholders that users can fill in.</p>
                </div>
                <div class="form-actions">
                    <button id="save-template" class="primary-button">Save Template</button>
                    <button id="cancel-template" class="secondary-button">Cancel</button>
                </div>
            </div>

            <div id="templates-list" class="templates-list">
                <div class="loading-templates">Loading templates...</div>
            </div>

            <input type="file" id="import-file" accept=".json" style="display: none;">
        </div>

        <div class="section">
            <h2>Data Management</h2>
            <p>Export or import all your QuickAI data including settings, templates, and conversation history.</p>
            <div class="data-controls">
                <button id="export-all-data" class="primary-button">Export All Data</button>
                <button id="import-all-data" class="secondary-button">Import Data</button>
                <input type="file" id="import-all-file" accept=".json" style="display: none;">
            </div>
            <div class="data-info">
                <p class="hint">Export creates a backup of all your data. Import will replace all current data with the imported backup.</p>
            </div>
        </div>

        <div class="section">
            <h2>Usage Guide</h2>
            <div class="guide">
                <div class="guide-item">
                    <div class="guide-icon">‚å®Ô∏è</div>
                    <div>
                        <h3>Quick Access</h3>
                        <p>Hold <kbd>Alt</kbd> and select any text on a webpage to activate QuickAI</p>
                    </div>
                </div>
                <div class="guide-item">
                    <div class="guide-icon">üí¨</div>
                    <div>
                        <h3>Ask Questions</h3>
                        <p>Type your question about the selected text and get instant AI responses</p>
                    </div>
                </div>
                <div class="guide-item">
                    <div class="guide-icon">üìö</div>
                    <div>
                        <h3>View History</h3>
                        <p>Access your conversation history from the Chrome side panel</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="footer">
            <p>QuickAI v1.0.0 | <a href="https://github.com/QuickAI" target="_blank">GitHub</a></p>
        </div>
    </div>
    <script src="options.js"></script>
</body>
</html>